(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1296efd8"],{"0e29":function(t,e,a){"use strict";a("89be")},"5cde":function(t,e,a){},"89be":function(t,e,a){},b27a:function(t,e,a){"use strict";a.r(e);var i=a("7a23");const l={class:"container main-favorite"},c={class:"favorite-top-buttons"},o={class:"back-button btn"},s=Object(i["h"])("i",{class:"bi bi-arrow-left"},null,-1),d=["disabled"];function r(t,e,a,r,n,b){const u=Object(i["I"])("FavoriteBanner"),h=Object(i["I"])("HomeLoading"),p=Object(i["I"])("router-link"),j=Object(i["I"])("FavoriteItems"),v=Object(i["I"])("delModal");return Object(i["z"])(),Object(i["g"])("div",null,[Object(i["k"])(u,{title:"我的最愛",imgUrl:"https://images.unsplash.com/photo-1596568840418-5f4db2029de0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDF8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",fontColor:"#F7F1F0",boderColor:"#F7F1F0"}),Object(i["k"])(h,{isLoading:t.isLoading},null,8,["isLoading"]),Object(i["h"])("div",l,[Object(i["h"])("div",c,[Object(i["h"])("div",o,[Object(i["k"])(p,{to:"/productslist/lists"},{default:Object(i["U"])(()=>[s,Object(i["j"])(" 商品列表 ")]),_:1})]),Object(i["h"])("button",{class:"clean-button btn btn-danger",onClick:e[0]||(e[0]=(...t)=>b.cleanAllButton&&b.cleanAllButton(...t)),disabled:0===t.FavoriteItems.length},"清空我的最愛",8,d)]),Object(i["k"])(j,{loadingItem:n.status.loadingItem,products:t.favoriteFilter,onRemoveFavoriteHandler:b.removeFavItemButton,onAddCartHandler:b.addCart},null,8,["loadingItem","products","onRemoveFavoriteHandler","onAddCartHandler"])]),Object(i["k"])(v,{ref:"favDelModal",delTitle:n.delTitle,onCleanAllFavItemsHandler:b.cleanAllFavItems,onRemoveFavItemHandler:e[1]||(e[1]=t=>b.removeFavItem(n.delTitle))},null,8,["delTitle","onCleanAllFavItemsHandler"])])}var n=a("667c"),b=a("e015");const u=t=>(Object(i["C"])("data-v-db96d910"),t=t(),Object(i["A"])(),t),h={key:0,class:"row mt-4 gx-3"},p={class:"card-item"},j=["onClick"],v=u(()=>Object(i["h"])("i",{class:"bi bi-hand-index-thumb-fill"},null,-1)),O=[v],m={class:"card-body"},g={class:"card-title"},f={class:"card-title"},I={class:"card-body-bottom"},F={class:"price-lists"},y={class:"origin-price"},k={class:"price"},C={class:"button-lists"},x=["onClick"],M=u(()=>Object(i["h"])("i",{class:"bi bi-bookmark-fill"},null,-1)),w=[M],T=["onClick","disabled"],A={key:0,class:"bi bi-cart3"},H={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},L={key:1,class:"row mt-4 gx-3"},$={colspan:"6",class:"Empty-favorite"},D=u(()=>Object(i["h"])("h2",null,"目前沒有關注的商品",-1));function z(t,e,a,l,c,o){const s=Object(i["I"])("router-link");return Object(i["z"])(),Object(i["g"])("div",null,[0!==a.products.length?(Object(i["z"])(),Object(i["g"])("div",h,[(Object(i["z"])(!0),Object(i["g"])(i["a"],null,Object(i["G"])(a.products,e=>(Object(i["z"])(),Object(i["g"])("div",{class:"card col-sm-12 col-md-4 col-lg-3",key:e.id},[Object(i["h"])("div",p,[Object(i["h"])("div",{class:"card-item-img",style:Object(i["t"])({backgroundImage:`url(${e.imageUrl})`})},[Object(i["h"])("div",{class:"enter-item",onClick:t=>o.getProduct(e.id)},O,8,j)],4),Object(i["h"])("div",m,[Object(i["h"])("h5",g,Object(i["L"])(e.title.split("-")[0]),1),Object(i["h"])("h5",f,Object(i["L"])(e.title.split("-")[1]),1),Object(i["h"])("div",I,[Object(i["h"])("div",F,[Object(i["h"])("span",y,"$"+Object(i["L"])(t.$filters.currency(e.origin_price)),1),Object(i["h"])("span",k,"$"+Object(i["L"])(t.$filters.currency(e.price)),1)]),Object(i["h"])("div",C,[Object(i["h"])("button",{class:"btn",onClick:t=>o.removeFavorite(e.id,e.title)},w,8,x),Object(i["h"])("button",{class:"btn",onClick:t=>o.addToCart(e.id,e.title),disabled:a.loadingItem===e.id},[a.loadingItem!==e.id?(Object(i["z"])(),Object(i["g"])("i",A)):(Object(i["z"])(),Object(i["g"])("span",H))],8,T)])])])])]))),128))])):(Object(i["z"])(),Object(i["g"])("div",L,[Object(i["h"])("div",$,[D,Object(i["h"])("span",null,[Object(i["j"])("快點去關注商品吧！ "),Object(i["k"])(s,{to:"/productslist/lists"},{default:Object(i["U"])(()=>[Object(i["j"])("商品列表")]),_:1})])])]))])}a("14d9");var B={props:{products:{type:Array,default:()=>[]},loadingItem:{type:String,default:""}},methods:{getProduct(t){this.$router.push("/product/"+t)},addToCart(t,e){this.$emit("addCartHandler",{productId:t,productTitle:e})},setFavorite(t){this.$emit("setFavoriteHandler",t)},removeFavorite(t,e){this.$emit("removeFavoriteHandler",{productId:t,productTitle:e})}}},S=(a("cab7"),a("6b0d")),_=a.n(S);const P=_()(B,[["render",z],["__scopeId","data-v-db96d910"]]);var U=P,G=a("796c"),R=a("cfb9"),q={mixins:[G["a"]],components:{FavoriteItems:U,FavoriteBanner:b["a"],delModal:n["a"]},data(){return{status:{loadingItem:""},delTitle:"all",delProductId:""}},methods:{getProducts(t=1){const e="https://vue3-course-api.hexschool.io/api/dongyang-api/products/all";this.isLoading=!0,this.$http.get(e).then(t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products,this.favoriteInit())})},addCart({productTitle:t,productId:e},a=1){const i="https://vue3-course-api.hexschool.io/api/dongyang-api/cart",l={data:{product_id:e,qty:a}};this.status.loadingItem=e,this.$http.post(i,l).then(e=>{e.data.success&&(R["a"].emit("push-message",{style:"success",title:""+t,actionText:"新增至購物車"}),this.status.loadingItem="",this.updateNavCartLength())})},openDelModal(){this.$refs.favDelModal.showModal()},hideDelModal(){this.$refs.favDelModal.hideModal()},updateNavCartLength(){R["a"].emit("updateCartLength")},removeFavItemButton({productId:t,productTitle:e}){this.delProductId=t,this.delTitle=e,this.openDelModal()},cleanAllButton(){this.delTitle="all",this.openDelModal()},cleanAllFavItems(){this.cleanFavoriteAll(),this.hideDelModal()},removeFavItem(t){this.removeFavorite(this.delProductId),this.hideDelModal(),R["a"].emit("push-message",{style:"success",title:""+t,actionText:"取消關注成功"})}},created(){this.getProducts()}};a("bac1");const J=_()(q,[["render",r]]);e["default"]=J},bac1:function(t,e,a){"use strict";a("5cde")},c6fc:function(t,e,a){},cab7:function(t,e,a){"use strict";a("c6fc")},e015:function(t,e,a){"use strict";var i=a("7a23");function l(t,e,a,l,c,o){return Object(i["z"])(),Object(i["g"])("div",{class:"cart-banner",style:Object(i["t"])(c.baseStyle)},[Object(i["h"])("h2",{style:Object(i["t"])(c.boderStyle)},Object(i["L"])(a.title),5)],4)}var c={props:{title:{type:String,default:"請輸入title"},imgUrl:{type:String},fontColor:{type:String,default:"#F7F1F0"},boderColor:{type:String,default:"#F7F1F0"}},data(){return{baseStyle:{backgroundImage:`url(${this.imgUrl})`,color:this.fontColor},boderStyle:{borderBottom:"5px double "+this.boderColor}}}},o=(a("0e29"),a("6b0d")),s=a.n(o);const d=s()(c,[["render",l],["__scopeId","data-v-66073782"]]);e["a"]=d}}]);
//# sourceMappingURL=chunk-1296efd8.9ca8faf3.js.map