{"version":3,"sources":["webpack:///./src/views/Dashboard/Login.vue?ec90","webpack:///./src/views/Dashboard/Login.vue","webpack:///./src/views/Dashboard/Login.vue?0364"],"names":["class","_createElementVNode","for","type","_createElementBlock","_createVNode","_component_loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_component_router_link","to","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","_cache","_withModifiers","args","$options","signIn","_hoisted_6","_hoisted_7","_hoisted_8","id","placeholder","required","autofocus","user","username","$event","_hoisted_9","_hoisted_10","password","_hoisted_11","data","methods","api","this","$http","post","then","res","success","token","expired","document","cookie","Date","$router","push","checkLogin","replace","defaults","headers","common","Authorization","created","__exports__","render"],"mappings":"2IAAA,W,oICISA,MAAM,6B,GACJA,MAAM,e,QAEPC,eAAgC,KAA7BD,MAAM,oBAAkB,U,GAI1BA,MAAM,mB,QACTC,eAAe,UAAX,UAAM,I,GAEHD,MAAM,a,GACJA,MAAM,Q,QACTC,eAAkD,SAA3CC,IAAI,YAAYF,MAAM,WAAU,OAAG,I,GAIvCA,MAAM,Q,QACTC,eAAsD,SAA/CC,IAAI,gBAAgBF,MAAM,WAAU,OAAG,I,QAKhDC,eAEM,OAFDD,MAAM,iBAAe,CACxBC,eAA0E,UAAlED,MAAM,mCAAmCG,KAAK,UAAS,Q,sHA1B3EC,eAiCM,YAhCJC,eAAuCC,EAAA,CAA7BC,OAAQC,EAAAC,WAAS,mBAE3BR,eA4BM,MA5BNS,EA4BM,CA3BJT,eAKM,MALNU,EAKM,CAJJN,eAGcO,EAAA,CAHDC,GAAG,IAAIb,MAAM,gB,wBACxB,IAAgC,CAAhCc,E,eAAgC,W,QAIpCb,eAoBM,MApBNc,EAoBM,CAnBJC,EACAf,eAiBO,QAjBDD,MAAM,kDAAmDiB,SAAMC,EAAA,KAAAA,EAAA,GAAAC,eAAA,IAAAC,IAAUC,EAAAC,QAAAD,EAAAC,UAAAF,GAAM,e,CACnFnB,eAeM,MAfNsB,EAeM,CAdJtB,eAIM,MAJNuB,EAIM,CAHJC,E,eACAxB,eAC4B,SADrBE,KAAK,OAAOuB,GAAG,YAAY1B,MAAM,eAAe2B,YAAY,QAAQC,SAAA,GAASC,UAAA,G,qCACzErB,EAAAsB,KAAKC,SAAQC,I,mBAAbxB,EAAAsB,KAAKC,cAElB9B,eAIM,MAJNgC,EAIM,CAHJC,E,eACAjC,eAC4B,SADrBE,KAAK,WAAWuB,GAAG,gBAAgB1B,MAAM,eAAe2B,YAAY,QAAQC,SAAA,G,qCACxEpB,EAAAsB,KAAKK,SAAQH,I,mBAAbxB,EAAAsB,KAAKK,cAGlBC,K,wBAYG,GACbC,OACE,MAAO,CACLP,KAAM,CACJC,SAAU,GACVI,SAAU,IAEZ1B,WAAW,IAGf6B,QAAS,CACPhB,SACE,MAAMiB,EAAO,oDACbC,KAAK/B,WAAY,EACjB+B,KAAKC,MAAMC,KAAKH,EAAKC,KAAKV,MACvBa,KAAMC,IAEL,GADAJ,KAAK/B,WAAY,EACbmC,EAAIP,KAAKQ,QAAS,CACpB,MAAM,MAAEC,EAAK,QAAEC,GAAYH,EAAIP,KAC/BW,SAASC,OAAU,YAAWH,aAAiB,IAAII,KAAKH,KACxDP,KAAKW,QAAQC,KAAK,2BAI1BC,aACE,MAAMP,EAAQE,SAASC,OAAOK,QAAQ,iDAAkD,MACxFd,KAAKC,MAAMc,SAASC,QAAQC,OAAOC,cAAiB,GAAEZ,EACtD,MAAMP,EAAO,sDACbC,KAAKC,MAAMC,KAAKH,GACbI,KAAMC,IACDA,EAAIP,KAAKQ,SACXL,KAAKW,QAAQG,QAAQ,2BAK/BK,UACEnB,KAAKa,e,iCCpET,MAAMO,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-4d733e48.c189f459.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=49ff50aa&lang=scss&scoped=true\"","<template>\r\n  <div>\r\n    <loading :active=\"isLoading\"></loading>\r\n\r\n    <div class=\"login-main container mt-5\">\r\n      <div class=\"back-button\">\r\n        <router-link to=\"/\" class=\"btn btn-dark\">\r\n          <i class=\"bi bi-arrow-left\"></i>\r\n          回首頁\r\n        </router-link>\r\n      </div>\r\n      <div class=\"login-main-wrap\">\r\n        <h2>後台管理頁面</h2>\r\n        <form class=\"login-main-form mt-3 row justify-content-center\" @submit.prevent=\"signIn\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"mb-2\">\r\n              <label for=\"inputText\" class=\"sr-only\">帳號：</label>\r\n              <input type=\"text\" id=\"inputText\" class=\"form-control\" placeholder=\"請輸入帳號\" required autofocus\r\n                v-model=\"user.username\" />\r\n            </div>\r\n            <div class=\"mb-2\">\r\n              <label for=\"inputPassword\" class=\"sr-only\">密碼：</label>\r\n              <input type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"請輸入密碼\" required\r\n                v-model=\"user.password\" />\r\n            </div>\r\n\r\n            <div class=\"text-end mt-4\">\r\n              <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      user: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    signIn () {\r\n      const api = `${process.env.VUE_APP_API}admin/signin`\r\n      this.isLoading = true\r\n      this.$http.post(api, this.user)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            const { token, expired } = res.data\r\n            document.cookie = `hexToken=${token};expires=${new Date(expired)}`\r\n            this.$router.push('/dashboard/products')\r\n          }\r\n        })\r\n    },\r\n    checkLogin () {\r\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\r\n      this.$http.defaults.headers.common.Authorization = `${token}`\r\n      const api = `${process.env.VUE_APP_API}api/user/check`\r\n      this.$http.post(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$router.replace('/dashboard/products')\r\n          }\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.checkLogin()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.back-button {\r\n  font-size: 24px;\r\n  font-weight: 900;\r\n  margin-bottom: 10px;\r\n  display: inline;\r\n  width: 100%;\r\n}\r\n\r\n.login-main {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n\r\n  .login-main-wrap {\r\n    padding: 50px;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n    box-shadow: 2px 5px 5px rgba(0, 0, 0, 0.2);\r\n\r\n    .login-main-form {\r\n      max-width: 500px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=49ff50aa&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=49ff50aa&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\香氛蠟燭網站\\\\商品\\\\vue3-final-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49ff50aa\"]])\n\nexport default __exports__"],"sourceRoot":""}