(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6019cef1"],{"0390":function(t,e,c){},"0cbb":function(t,e,c){"use strict";c("3c6e")},"3c6e":function(t,e,c){},"64fb":function(t,e,c){},6918:function(t,e,c){"use strict";c("0390")},"96b8":function(t,e,c){"use strict";var a=c("7a23");const d=t=>(Object(a["C"])("data-v-1f0ee0ac"),t=t(),Object(a["A"])(),t),o={class:"modal fade",ref:"modal",id:"AlertModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r={class:"modal-dialog modal-dialog-centered alert-modal"},i={class:"modal-content"},s={class:"modal-body alert-modal-body"},l=d(()=>Object(a["h"])("div",{class:"circle"},[Object(a["h"])("div",{class:"line"})],-1)),n={class:"mt-3"},b=d(()=>Object(a["h"])("div",{class:"modal-footer"},[Object(a["h"])("button",{type:"button",class:"btn submit-btn","data-bs-dismiss":"modal"},"確認")],-1));function u(t,e,c,d,u,p){return Object(a["z"])(),Object(a["g"])("div",null,[Object(a["h"])("div",o,[Object(a["h"])("div",r,[Object(a["h"])("div",i,[Object(a["h"])("div",s,[l,Object(a["h"])("h2",n,Object(a["L"])(c.title),1)]),b])])],512)])}var p=c("e0ae"),h={mixins:[p["a"]],props:{title:{type:String,default:"成功新增到我的最愛"}}},O=(c("6918"),c("6b0d")),j=c.n(O);const v=j()(h,[["render",u],["__scopeId","data-v-1f0ee0ac"]]);e["a"]=v},9964:function(t,e,c){"use strict";c.r(e);var a=c("7a23");const d={class:"product"},o={class:"container"},r={class:"row product-main"},i={class:"col-12 col-md-6"};function s(t,e,c,s,l,n){const b=Object(a["I"])("HomeLoading"),u=Object(a["I"])("AlertModal"),p=Object(a["I"])("Breadcrumb"),h=Object(a["I"])("ProductIntro"),O=Object(a["I"])("delModal");return Object(a["z"])(),Object(a["g"])("div",d,[Object(a["k"])(b,{isLoading:l.isLoading},null,8,["isLoading"]),Object(a["k"])(u,{ref:"alertModal"},null,512),Object(a["h"])("div",o,[Object(a["k"])(p,{productTitle:l.product.title,productCategory:l.product.category},null,8,["productTitle","productCategory"]),Object(a["h"])("div",r,[Object(a["h"])("div",i,[Object(a["h"])("div",{class:"product-img",style:Object(a["t"])({backgroundImage:`url(${l.product.imageUrl})`})},null,4)]),Object(a["k"])(h,{product:l.product,onAddCartHandler:n.addCart,isFav:n.isFav,onOpenDelModalHandler:n.openDelModal,onAddFavoriteHandler:t.setFavorite,onOpenAlertModalHandler:n.openAlertModal},null,8,["product","onAddCartHandler","isFav","onOpenDelModalHandler","onAddFavoriteHandler","onOpenAlertModalHandler"])])]),Object(a["k"])(O,{ref:"favDelModal",delTitle:l.product.title,onRemoveFavItemHandler:n.removeFavItem},null,8,["delTitle","onRemoveFavItemHandler"])])}var l=c("96b8"),n=c("667c");const b={class:"product-breadcrumb","aria-label":"breadcrumb",style:{"--bs-breadcrumb-divider":"'>'"}},u={class:"breadcrumb"},p={class:"breadcrumb-item"},h={class:"breadcrumb-item"},O={class:"breadcrumb-item","aria-current":"page"},j={class:"breadcrumb-item active","aria-current":"page"};function v(t,e,c,d,o,r){const i=Object(a["I"])("router-link");return Object(a["z"])(),Object(a["g"])("nav",b,[Object(a["h"])("ol",u,[Object(a["h"])("li",p,[Object(a["k"])(i,{to:"/"},{default:Object(a["U"])(()=>[Object(a["j"])(" 首頁 ")]),_:1})]),Object(a["h"])("li",h,[Object(a["k"])(i,{to:"/productsList/lists"},{default:Object(a["U"])(()=>[Object(a["j"])("商品列表")]),_:1})]),Object(a["h"])("li",O,[Object(a["h"])("a",{href:"#",onClick:e[0]||(e[0]=Object(a["W"])((...t)=>r.goTarget&&r.goTarget(...t),["prevent"]))},Object(a["L"])(c.productCategory),1)]),Object(a["h"])("li",j,Object(a["L"])(c.productTitle),1)])])}c("14d9");var m={props:{productTitle:{type:String,default:""},productCategory:{type:String,default:""}},methods:{goTarget(){this.$router.push("/productslist/"+this.productCategory)}}},g=(c("fffa"),c("6b0d")),f=c.n(g);const y=f()(m,[["render",v]]);var M=y;const k=t=>(Object(a["C"])("data-v-0ac091c1"),t=t(),Object(a["A"])(),t),L={class:"col-12 col-md-6 product-intro"},C={key:0,class:"product-category"},I={key:1,class:"product-title"},F={key:2,class:"product-price"},T={key:3,class:"product-des"},H=k(()=>Object(a["h"])("h2",null,"產品規格",-1)),$=["innerHTML"],x={key:4,class:"product-content"},A=k(()=>Object(a["h"])("h2",null,"產品說明",-1)),z=["innerHTML"],D={key:5,class:"product-qty"},_=k(()=>Object(a["h"])("span",{class:"qty-text"},"數量：",-1)),q=k(()=>Object(a["h"])("i",{class:"bi bi-dash"},null,-1)),w=[q],P={class:"qty-unit"},B=k(()=>Object(a["h"])("i",{class:"bi bi-plus"},null,-1)),R=[B],N={class:"product-intro-button"},Q=k(()=>Object(a["h"])("i",{class:"bi bi-suit-heart-fill"},null,-1)),S=[Q];function U(t,e,c,d,o,r){return Object(a["z"])(),Object(a["g"])("div",L,[c.product.category?(Object(a["z"])(),Object(a["g"])("div",C,[Object(a["h"])("span",null,Object(a["L"])(c.product.category),1)])):Object(a["f"])("",!0),c.product.title?(Object(a["z"])(),Object(a["g"])("div",I,Object(a["L"])(c.product.title),1)):Object(a["f"])("",!0),c.product.price?(Object(a["z"])(),Object(a["g"])("div",F,[Object(a["h"])("span",null,"$"+Object(a["L"])(t.$filters.currency(c.product.price)),1),Object(a["h"])("span",null,"$"+Object(a["L"])(t.$filters.currency(c.product.origin_price)),1)])):Object(a["f"])("",!0),c.product.description?(Object(a["z"])(),Object(a["g"])("div",T,[H,Object(a["h"])("div",{innerHTML:r.textDescriptionBR},null,8,$)])):Object(a["f"])("",!0),c.product.content?(Object(a["z"])(),Object(a["g"])("div",x,[A,Object(a["h"])("div",{innerHTML:r.textContentBR},null,8,z)])):Object(a["f"])("",!0),c.product.unit?(Object(a["z"])(),Object(a["g"])("div",D,[_,Object(a["h"])("button",{onClick:e[0]||(e[0]=t=>r.updateQty(-1)),class:"btn btn-outline-dark"},w),Object(a["h"])("span",P,Object(a["L"])(o.qty)+" "+Object(a["L"])(c.product.unit),1),Object(a["h"])("button",{onClick:e[1]||(e[1]=t=>r.updateQty(1)),class:"btn btn-outline-dark"},R)])):Object(a["f"])("",!0),Object(a["h"])("div",N,[-1===c.isFav?(Object(a["z"])(),Object(a["g"])("button",{key:0,onClick:e[2]||(e[2]=(...t)=>r.addToFavorite&&r.addToFavorite(...t)),class:"btn btn-favorite"},"加入至最愛")):(Object(a["z"])(),Object(a["g"])("button",{key:1,onClick:e[3]||(e[3]=(...t)=>r.delFavorite&&r.delFavorite(...t)),class:"btn btn-danger like"},S)),Object(a["h"])("button",{onClick:e[4]||(e[4]=(...t)=>r.addToCart&&r.addToCart(...t)),class:"btn btn-add-cart"},"加入購物車")])])}var J={props:{product:{type:Object,default:()=>({})},isFav:{type:Number}},data(){return{qty:1}},computed:{textDescriptionBR(){return this.product.description.replace(/\n/g,"<br>")},textContentBR(){return this.product.content.replace(/\n/g,"<br>")}},methods:{updateQty(t){-1===t&&1===this.qty||(this.qty+=t)},addToCart(){this.$emit("addCartHandler",this.qty)},addToFavorite(){this.$emit("openAlertModalHandler"),this.$emit("addFavoriteHandler",this.product.id)},delFavorite(){this.$emit("openDelModalHandler")}}};c("0cbb");const W=f()(J,[["render",U],["__scopeId","data-v-0ac091c1"]]);var E=W,G=c("d34b"),K=c("796c"),V=c("cfb9"),X={mixins:[K["a"]],components:{Breadcrumb:M,ProductIntro:E,HomeLoading:G["a"],delModal:n["a"],AlertModal:l["a"]},data(){return{product:{},isLoading:!1}},computed:{isFav(){return this.FavoriteItems.findIndex(t=>t===this.product.id)}},methods:{getProduct(){const t=this.$route.params.productId,e="https://vue3-course-api.hexschool.io/api/dongyang-api/product/"+t;this.isLoading=!0,this.$http.get(e).then(t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product,this.delProductId=this.product.id,this.favoriteInit())})},addCart(t){const e="https://vue3-course-api.hexschool.io/api/dongyang-api/cart",c={data:{product_id:this.product.id,qty:t}};this.isLoading=!0,this.$http.post(e,c).then(t=>{this.isLoading=!1,t.data.success&&(V["a"].emit("push-message",{style:"success",title:""+this.product.title,actionText:"新增至購物車"}),this.updateNavCartLength())})},updateNavCartLength(){V["a"].emit("updateCartLength")},openAlertModal(){this.$refs.alertModal.showModal()},openDelModal(){this.$refs.favDelModal.showModal()},hideDelModal(){this.$refs.favDelModal.hideModal()},removeFavItem(){this.removeFavorite(this.delProductId),this.hideDelModal(),this.delProductId="",V["a"].emit("push-message",{style:"success",title:""+this.product.title,actionText:"取消關注成功"})}},created(){this.getProduct()}};c("ebba");const Y=f()(X,[["render",s],["__scopeId","data-v-1037096e"]]);e["default"]=Y},d5d5:function(t,e,c){},ebba:function(t,e,c){"use strict";c("64fb")},fffa:function(t,e,c){"use strict";c("d5d5")}}]);
//# sourceMappingURL=chunk-6019cef1.ba0eae23.js.map