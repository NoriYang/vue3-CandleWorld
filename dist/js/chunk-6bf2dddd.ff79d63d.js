(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bf2dddd"],{"176e":function(t,e,a){},"1e96":function(t,e,a){"use strict";var c=a("7a23");const d={class:"modal fade",ref:"modal",id:"AlertModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o=Object(c["i"])('<div class="modal-dialog modal-dialog-centered alert-modal" data-v-33907840><div class="modal-content" data-v-33907840><div class="modal-body alert-modal-body" data-v-33907840><div class="circle" data-v-33907840><div class="line" data-v-33907840></div></div><h2 class="mt-3" data-v-33907840>成功新增到我的最愛</h2></div><div class="modal-footer" data-v-33907840><button type="button" class="btn btn-outline-success" data-bs-dismiss="modal" data-v-33907840>確認</button></div></div></div>',1),r=[o];function i(t,e,a,o,i,n){return Object(c["z"])(),Object(c["g"])("div",null,[Object(c["h"])("div",d,r,512)])}var n=a("e0ae"),s={mixins:[n["a"]]},l=(a("ce14"),a("6b0d")),u=a.n(l);const b=u()(s,[["render",i],["__scopeId","data-v-33907840"]]);e["a"]=b},"2c93":function(t,e,a){"use strict";a("d3dc")},"56ba":function(t,e,a){},"69a8":function(t,e,a){"use strict";a("56ba")},"7fd3":function(t,e,a){"use strict";a.r(e);var c=a("7a23");const d={class:"product"},o={class:"container"},r={class:"row product-main"},i={class:"col-12 col-md-6"};function n(t,e,a,n,s,l){const u=Object(c["I"])("HomeLoading"),b=Object(c["I"])("AlertModal"),p=Object(c["I"])("Breadcrumb"),h=Object(c["I"])("ProductIntro"),O=Object(c["I"])("delModal");return Object(c["z"])(),Object(c["g"])("div",d,[Object(c["k"])(u,{isLoading:s.isLoading},null,8,["isLoading"]),Object(c["k"])(b,{ref:"alertModal"},null,512),Object(c["h"])("div",o,[Object(c["k"])(p,{productTitle:s.product.title,productCategory:s.product.category},null,8,["productTitle","productCategory"]),Object(c["h"])("div",r,[Object(c["h"])("div",i,[Object(c["h"])("div",{class:"product-img",style:Object(c["t"])({backgroundImage:`url(${s.product.imageUrl})`})},null,4)]),Object(c["k"])(h,{product:s.product,onAddCartHandler:l.addCart,isFav:l.isFav,onOpenDelModalHandler:l.openDelModal,onAddFavoriteHandler:t.setFavorite,onOpenAlertModalHandler:l.openAlertModal},null,8,["product","onAddCartHandler","isFav","onOpenDelModalHandler","onAddFavoriteHandler","onOpenAlertModalHandler"])])]),Object(c["k"])(O,{ref:"favDelModal",delTitle:s.product.title,onRemoveFavItemHandler:l.removeFavItem},null,8,["delTitle","onRemoveFavItemHandler"])])}var s=a("1e96"),l=a("9651"),u=a("796c");const b={class:"product-breadcrumb","aria-label":"breadcrumb",style:{"--bs-breadcrumb-divider":"'>'"}},p={class:"breadcrumb"},h={class:"breadcrumb-item"},O={class:"breadcrumb-item"},j={class:"breadcrumb-item","aria-current":"page"},v={class:"breadcrumb-item active","aria-current":"page"};function m(t,e,a,d,o,r){const i=Object(c["I"])("router-link");return Object(c["z"])(),Object(c["g"])("nav",b,[Object(c["h"])("ol",p,[Object(c["h"])("li",h,[Object(c["k"])(i,{to:"/"},{default:Object(c["U"])(()=>[Object(c["j"])(" 首頁 ")]),_:1})]),Object(c["h"])("li",O,[Object(c["k"])(i,{to:"/home/productsList/lists"},{default:Object(c["U"])(()=>[Object(c["j"])("商品列表")]),_:1})]),Object(c["h"])("li",j,[Object(c["h"])("a",{href:"#",onClick:e[0]||(e[0]=Object(c["W"])((...t)=>r.goTarget&&r.goTarget(...t),["prevent"]))},Object(c["L"])(a.productCategory),1)]),Object(c["h"])("li",v,Object(c["L"])(a.productTitle),1)])])}a("14d9");var g={props:{productTitle:{type:String,default:""},productCategory:{type:String,default:""}},methods:{goTarget(){this.$router.push("/home/productslist/"+this.productCategory)}}},f=(a("2c93"),a("6b0d")),y=a.n(f);const M=y()(g,[["render",m]]);var k=M;const L=t=>(Object(c["C"])("data-v-3eb8a272"),t=t(),Object(c["A"])(),t),C={class:"col-12 col-md-6 product-intro"},I={key:0,class:"product-category"},F={key:1,class:"product-title"},H={key:2,class:"product-price"},T={key:3,class:"product-des"},$=L(()=>Object(c["h"])("h2",null,"產品規格",-1)),A=["innerHTML"],x={key:4,class:"product-content"},z=L(()=>Object(c["h"])("h2",null,"產品說明",-1)),D=["innerHTML"],_={key:5,class:"product-qty"},q=L(()=>Object(c["h"])("span",{class:"qty-text"},"數量：",-1)),w=L(()=>Object(c["h"])("i",{class:"bi bi-dash"},null,-1)),P=[w],B={class:"qty-unit"},R=L(()=>Object(c["h"])("i",{class:"bi bi-plus"},null,-1)),N=[R],Q={class:"product-intro-button"},U=L(()=>Object(c["h"])("i",{class:"bi bi-suit-heart-fill"},null,-1)),J=[U];function S(t,e,a,d,o,r){return Object(c["z"])(),Object(c["g"])("div",C,[a.product.category?(Object(c["z"])(),Object(c["g"])("div",I,[Object(c["h"])("span",null,Object(c["L"])(a.product.category),1)])):Object(c["f"])("",!0),a.product.title?(Object(c["z"])(),Object(c["g"])("div",F,Object(c["L"])(a.product.title),1)):Object(c["f"])("",!0),a.product.price?(Object(c["z"])(),Object(c["g"])("div",H,[Object(c["h"])("span",null,"$"+Object(c["L"])(t.$filters.currency(a.product.price)),1),Object(c["h"])("span",null,"$"+Object(c["L"])(t.$filters.currency(a.product.origin_price)),1)])):Object(c["f"])("",!0),a.product.description?(Object(c["z"])(),Object(c["g"])("div",T,[$,Object(c["h"])("div",{innerHTML:r.textDescriptionBR},null,8,A)])):Object(c["f"])("",!0),a.product.content?(Object(c["z"])(),Object(c["g"])("div",x,[z,Object(c["h"])("div",{innerHTML:r.textContentBR},null,8,D)])):Object(c["f"])("",!0),a.product.unit?(Object(c["z"])(),Object(c["g"])("div",_,[q,Object(c["h"])("button",{onClick:e[0]||(e[0]=t=>r.updateQty(-1)),class:"btn btn-outline-dark"},P),Object(c["h"])("span",B,Object(c["L"])(o.qty)+" "+Object(c["L"])(a.product.unit),1),Object(c["h"])("button",{onClick:e[1]||(e[1]=t=>r.updateQty(1)),class:"btn btn-outline-dark"},N)])):Object(c["f"])("",!0),Object(c["h"])("div",Q,[-1===a.isFav?(Object(c["z"])(),Object(c["g"])("button",{key:0,onClick:e[2]||(e[2]=(...t)=>r.addToFavorite&&r.addToFavorite(...t)),class:"btn btn-favorite"},"加入至最愛")):(Object(c["z"])(),Object(c["g"])("button",{key:1,onClick:e[3]||(e[3]=(...t)=>r.delFavorite&&r.delFavorite(...t)),class:"btn btn-danger like"},J)),Object(c["h"])("button",{onClick:e[4]||(e[4]=(...t)=>r.addToCart&&r.addToCart(...t)),class:"btn btn-add-cart"},"加入購物車")])])}var W={props:{product:{type:Object,default:()=>({})},isFav:{type:Number}},data(){return{qty:1}},computed:{textDescriptionBR(){return this.product.description.replace(/\n/g,"<br>")},textContentBR(){return this.product.content.replace(/\n/g,"<br>")}},methods:{updateQty(t){-1===t&&1===this.qty||(this.qty+=t)},addToCart(){this.$emit("addCartHandler",this.qty)},addToFavorite(){this.$emit("openAlertModalHandler"),this.$emit("addFavoriteHandler",this.product.id)},delFavorite(){this.$emit("openDelModalHandler")}}};a("ca26");const E=y()(W,[["render",S],["__scopeId","data-v-3eb8a272"]]);var G=E,K=a("d34b"),V=a("cfb9"),X={mixins:[u["a"]],components:{Breadcrumb:k,ProductIntro:G,HomeLoading:K["a"],delModal:l["a"],AlertModal:s["a"]},data(){return{product:{},isLoading:!1}},computed:{isFav(){return this.FavoriteItems.findIndex(t=>t===this.product.id)}},methods:{getProduct(){const t=this.$route.params.productId,e="https://vue3-course-api.hexschool.io/api/dongyang-api/product/"+t;this.isLoading=!0,this.$http.get(e).then(t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product,this.delProductId=this.product.id,this.favoriteInit())})},addCart(t){const e="https://vue3-course-api.hexschool.io/api/dongyang-api/cart",a={data:{product_id:this.product.id,qty:t}};this.isLoading=!0,this.$http.post(e,a).then(t=>{this.isLoading=!1,t.data.success&&(V["a"].emit("push-message",{style:"success",title:this.product.title+" 新增購物車成功"}),this.updateNavCartLength())})},updateNavCartLength(){V["a"].emit("updateCartLength")},openAlertModal(){this.$refs.alertModal.showModal()},openDelModal(){this.$refs.favDelModal.showModal()},hideDelModal(){this.$refs.favDelModal.hideModal()},removeFavItem(){this.removeFavorite(this.delProductId),this.hideDelModal(),this.delProductId=""}},created(){this.getProduct()}};a("69a8");const Y=y()(X,[["render",n],["__scopeId","data-v-2736aac8"]]);e["default"]=Y},b2dd:function(t,e,a){},ca26:function(t,e,a){"use strict";a("176e")},ce14:function(t,e,a){"use strict";a("b2dd")},d3dc:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6bf2dddd.ff79d63d.js.map