(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21da9db1"],{"00c3":function(t,e,a){"use strict";a.r(e);var l=a("7a23");const o={class:"container"},i={class:"favorite-top-buttons"},c={class:"back-button"},d=Object(l["h"])("i",{class:"bi bi-arrow-left"},null,-1),s=["disabled"];function r(t,e,a,r,n,b){const u=Object(l["I"])("FavoriteBanner"),h=Object(l["I"])("HomeLoading"),p=Object(l["I"])("router-link"),j=Object(l["I"])("FavoriteItems"),v=Object(l["I"])("delModal");return Object(l["z"])(),Object(l["g"])("div",null,[Object(l["k"])(u,{title:"我的最愛",imgUrl:"https://images.unsplash.com/photo-1596568840418-5f4db2029de0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1yZWxhdGVkfDF8fHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",fontColor:"#F7F1F0",boderColor:"#F7F1F0"}),Object(l["k"])(h,{isLoading:t.isLoading},null,8,["isLoading"]),Object(l["h"])("div",o,[Object(l["h"])("div",i,[Object(l["h"])("div",c,[Object(l["k"])(p,{to:"/home/productslist/lists"},{default:Object(l["U"])(()=>[d,Object(l["j"])(" 回商品列表 ")]),_:1})]),Object(l["h"])("button",{class:"clean-button btn btn-danger",onClick:e[0]||(e[0]=(...t)=>b.cleanAllButton&&b.cleanAllButton(...t)),disabled:0===t.FavoriteItems.length},"清空我的最愛",8,s)]),Object(l["k"])(j,{loadingItem:n.status.loadingItem,products:t.favoriteFilter,onRemoveFavoriteHandler:b.removeFavItemButton,onAddCartHandler:b.addCart},null,8,["loadingItem","products","onRemoveFavoriteHandler","onAddCartHandler"])]),Object(l["k"])(v,{ref:"favDelModal",delTitle:n.delTitle,onCleanAllFavItemsHandler:b.cleanAllFavItems,onRemoveFavItemHandler:b.removeFavItem},null,8,["delTitle","onCleanAllFavItemsHandler","onRemoveFavItemHandler"])])}var n=a("9651"),b=a("36c0");const u=t=>(Object(l["C"])("data-v-358b3fd1"),t=t(),Object(l["A"])(),t),h={key:0,class:"row mt-4 gx-3"},p={class:"card-item"},j=["onClick"],v=u(()=>Object(l["h"])("i",{class:"bi bi-hand-index-thumb-fill"},null,-1)),m=[v],O={class:"card-body"},g={class:"card-title"},f={class:"card-title"},I={class:"card-body-bottom"},F={class:"price-lists"},y={class:"origin-price"},k={class:"price"},C={class:"button-lists"},M=["onClick"],w=u(()=>Object(l["h"])("i",{class:"bi bi-bookmark-fill"},null,-1)),H=[w],x=["onClick","disabled"],A={key:0,class:"bi bi-cart3"},L={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},$={key:1,class:"row mt-4 gx-3"},D={colspan:"6",class:"Empty-favorite"},T=u(()=>Object(l["h"])("h2",null,"目前沒有關注的商品",-1));function z(t,e,a,o,i,c){const d=Object(l["I"])("router-link");return Object(l["z"])(),Object(l["g"])("div",null,[0!==a.products.length?(Object(l["z"])(),Object(l["g"])("div",h,[(Object(l["z"])(!0),Object(l["g"])(l["a"],null,Object(l["G"])(a.products,e=>(Object(l["z"])(),Object(l["g"])("div",{class:"card col-sm-12 col-md-4 col-lg-3",key:e.id},[Object(l["h"])("div",p,[Object(l["h"])("div",{class:"card-item-img",style:Object(l["t"])({backgroundImage:`url(${e.imageUrl})`})},[Object(l["h"])("div",{class:"enter-item",onClick:t=>c.getProduct(e.id)},m,8,j)],4),Object(l["h"])("div",O,[Object(l["h"])("h5",g,Object(l["L"])(e.title.split("-")[0]),1),Object(l["h"])("h5",f,Object(l["L"])(e.title.split("-")[1]),1),Object(l["h"])("div",I,[Object(l["h"])("div",F,[Object(l["h"])("span",y,"$"+Object(l["L"])(t.$filters.currency(e.origin_price)),1),Object(l["h"])("span",k,"$"+Object(l["L"])(t.$filters.currency(e.price)),1)]),Object(l["h"])("div",C,[Object(l["h"])("button",{class:"btn",onClick:t=>c.removeFavorite(e.id,e.title)},H,8,M),Object(l["h"])("button",{class:"btn",onClick:t=>c.addToCart(e.id,e.title),disabled:a.loadingItem===e.id},[a.loadingItem!==e.id?(Object(l["z"])(),Object(l["g"])("i",A)):(Object(l["z"])(),Object(l["g"])("span",L))],8,x)])])])])]))),128))])):(Object(l["z"])(),Object(l["g"])("div",$,[Object(l["h"])("div",D,[T,Object(l["h"])("span",null,[Object(l["j"])("快點去關注商品吧！ "),Object(l["k"])(d,{to:"/home/productslist/lists"},{default:Object(l["U"])(()=>[Object(l["j"])("商品列表")]),_:1})])])]))])}a("14d9");var B={props:{products:{type:Array,default:()=>[]},loadingItem:{type:String,default:""}},methods:{getProduct(t){this.$router.push("/home/product/"+t)},addToCart(t,e){this.$emit("addCartHandler",{productId:t,productTitle:e})},setFavorite(t){this.$emit("setFavoriteHandler",t)},removeFavorite(t,e){this.$emit("removeFavoriteHandler",{productId:t,productTitle:e})}}},S=(a("2a2a"),a("6b0d")),_=a.n(S);const P=_()(B,[["render",z],["__scopeId","data-v-358b3fd1"]]);var U=P,R=a("796c"),G=a("cfb9"),q={mixins:[R["a"]],components:{FavoriteItems:U,FavoriteBanner:b["a"],delModal:n["a"]},data(){return{status:{loadingItem:""},delTitle:"all",delProductId:""}},methods:{getProducts(t=1){const e="https://vue3-course-api.hexschool.io/api/dongyang-api/products/all";this.isLoading=!0,this.$http.get(e).then(t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products,this.favoriteInit())})},addCart({productTitle:t,productId:e},a=1){const l="https://vue3-course-api.hexschool.io/api/dongyang-api/cart",o={data:{product_id:e,qty:a}};G["a"].emit("push-message",{style:"success",title:t+" 新增購物車成功"}),this.status.loadingItem=e,this.$http.post(l,o).then(t=>{t.data.success&&(this.status.loadingItem="",this.updateNavCartLength())})},openDelModal(){this.$refs.favDelModal.showModal()},hideDelModal(){this.$refs.favDelModal.hideModal()},updateNavCartLength(){G["a"].emit("updateCartLength")},removeFavItemButton({productId:t,productTitle:e}){this.delProductId=t,this.delTitle=e,this.openDelModal()},cleanAllButton(){this.delTitle="all",this.openDelModal()},cleanAllFavItems(){this.cleanFavoriteAll(),this.hideDelModal()},removeFavItem(){this.removeFavorite(this.delProductId),this.hideDelModal()}},created(){this.getProducts()}};a("99d4");const J=_()(q,[["render",r]]);e["default"]=J},"2a2a":function(t,e,a){"use strict";a("4114")},"2cde":function(t,e,a){},"36c0":function(t,e,a){"use strict";var l=a("7a23");function o(t,e,a,o,i,c){return Object(l["z"])(),Object(l["g"])("div",{class:"cart-banner",style:Object(l["t"])(i.baseStyle)},[Object(l["h"])("h2",{style:Object(l["t"])(i.boderStyle)},Object(l["L"])(a.title),5)],4)}var i={props:{title:{type:String,default:"請輸入title"},imgUrl:{type:String},fontColor:{type:String,default:"#F7F1F0"},boderColor:{type:String,default:"#F7F1F0"}},data(){return{baseStyle:{backgroundImage:`url(${this.imgUrl})`,color:this.fontColor},boderStyle:{borderBottom:"5px double "+this.boderColor}}}},c=(a("dd57"),a("6b0d")),d=a.n(c);const s=d()(i,[["render",o],["__scopeId","data-v-366a916f"]]);e["a"]=s},4114:function(t,e,a){},"84d3":function(t,e,a){},"99d4":function(t,e,a){"use strict";a("2cde")},dd57:function(t,e,a){"use strict";a("84d3")}}]);
//# sourceMappingURL=chunk-21da9db1.894abaeb.js.map