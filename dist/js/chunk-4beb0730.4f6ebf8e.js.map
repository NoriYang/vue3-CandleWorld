{"version":3,"sources":["webpack:///./src/views/Dashboard/Products.vue","webpack:///./src/components/Dashboard/ProductModal.vue","webpack:///./src/components/Dashboard/ProductModal.vue?4961","webpack:///./src/views/Dashboard/Products.vue?5c69","webpack:///./src/components/Content/Pagination.vue","webpack:///./src/components/Content/Pagination.vue?cfba"],"names":["class","_createElementVNode","width","_createElementBlock","_hoisted_1","_createVNode","_component_loading","active","$data","isLoading","_hoisted_2","type","onClick","_cache","$event","$options","openModal","_hoisted_3","_hoisted_4","_Fragment","_renderList","products","item","key","id","_toDisplayString","category","title","_hoisted_5","_ctx","$filters","currency","origin_price","_hoisted_6","price","is_enabled","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","openDelModal","_hoisted_11","_component_Pagination","pages","pagination","onEmitPages","getProducts","_component_ProductModal","ref","product","tempProduct","onUpdateProduct","updateProduct","_component_DelModal","onDelItem","delProduct","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","imageUrl","placeholder","onChange","args","uploadFile","src","alt","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","unit","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","description","rows","_hoisted_30","_hoisted_31","content","_hoisted_32","_hoisted_33","true-value","false-value","_hoisted_34","_hoisted_35","_hoisted_36","$emit","props","Object","default","watch","this","mixins","modalMixin","data","modal","methods","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","res","success","__exports__","components","ProductModal","DelModal","Pagination","isNew","inject","productComponent","productModal","showModal","delComponent","delModal","page","api","get","httpMethod","hideModal","console","log","emitter","emit","style","message","join","delete","created","render","_normalizeClass","disabled","$props","has_pre","href","_withModifiers","updatePage","current_page","total_pages","has_next"],"mappings":"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","file":"js/chunk-4beb0730.4f6ebf8e.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <loading :active=\"isLoading\"></loading>\r\n    <div class=\"text-end mt-3\">\r\n      <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">新增產品</button>\r\n    </div>\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th width=\"120\">分類</th>\r\n          <th>產品名稱</th>\r\n          <th width=\"120\">原價</th>\r\n          <th width=\"120\">售價</th>\r\n          <th width=\"100\">是否啟用</th>\r\n          <th width=\"200\">編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item of products\" :key=\"item.id\">\r\n          <td>{{ item.category }}</td>\r\n          <td>{{ item.title }}</td>\r\n          <td class=\"text-right\">\r\n            {{ $filters.currency(item.origin_price) }}\r\n          </td>\r\n          <td class=\"text-right\">\r\n            {{ $filters.currency(item.price) }}\r\n          </td>\r\n          <td>\r\n            <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\r\n            <span class=\"text-muted\" v-else>未啟用</span>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group\">\r\n              <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\r\n              <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelModal(item)\">刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n    <ProductModal ref=\"productModal\" :product=\"tempProduct\" @update-product=\"updateProduct\"></ProductModal>\r\n    <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductModal from '@/components/Dashboard/ProductModal.vue'\r\nimport DelModal from '@/components/Dashboard/DelModal.vue'\r\nimport Pagination from '@/components/Content/Pagination.vue'\r\n\r\nexport default {\r\n  components: { ProductModal, DelModal, Pagination },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      tempProduct: {},\r\n      isNew: false,\r\n      isLoading: false\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    openModal (isNew, item) {\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n      const productComponent = this.$refs.productModal\r\n      productComponent.showModal()\r\n    },\r\n    openDelModal (item) {\r\n      this.tempProduct = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.showModal()\r\n    },\r\n\r\n    getProducts (page = 1) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.pagination = res.data.pagination\r\n            this.products = res.data.products\r\n            this.pagination = res.data.pagination\r\n          }\r\n        })\r\n    },\r\n    updateProduct (item) {\r\n      this.isLoading = true\r\n      this.tempProduct = item\r\n      // 新增狀態\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethod = 'post'\r\n      // 編輯狀態\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n        httpMethod = 'put'\r\n      }\r\n      const productComponent = this.$refs.productModal\r\n      this.$http[httpMethod](api, { data: this.tempProduct })\r\n        .then((res) => {\r\n          productComponent.hideModal()\r\n          if (res.data.success) {\r\n            this.getProducts()\r\n            console.log('更新成功')\r\n            this.emitter.emit('push-message', {\r\n              style: 'success',\r\n              title: '更新成功'\r\n            })\r\n          } else {\r\n            this.emitter.emit('push-message', {\r\n              style: 'danger',\r\n              title: '更新失敗',\r\n              content: res.data.message.join('、')\r\n            })\r\n          }\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    delProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      this.isLoading = true\r\n      this.$http.delete(api)\r\n        .then(res => {\r\n          this.isLoading = false\r\n          const delComponent = this.$refs.delModal\r\n          delComponent.hideModal()\r\n          this.getProducts()\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n","<template>\r\n  <!-- Modal -->\r\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>新增產品</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-4\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"image\" v-model=\"tempProduct.imageUrl\" placeholder=\"請輸入圖片連結\">\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n                  <i class=\"fas fa-spinner fa-spin\"></i>\r\n                </label>\r\n                <input type=\"text\" class=\"form-control\" id=\"customFile\" ref=\"fileInput\" @change=\"uploadFile\" />\r\n              </div>\r\n              <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" alt=\"\" />\r\n              <!-- 延伸技巧，多圖 -->\r\n              <div class=\"mt-5\">\r\n                <div class=\"mb-3 input-group\">\r\n                  <input type=\"url\" class=\"form-control form-control\" placeholder=\"請輸入連結\">\r\n                  <button type=\"button\" class=\"btn btn-outline-danger\">\r\n                    移除\r\n                  </button>\r\n                </div>\r\n                <div>\r\n                  <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\r\n                    新增圖片\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-8\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"title\" class=\"form-label\">標題</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"tempProduct.title\" id=\"title\" placeholder=\"請輸入標題\">\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"category\" class=\"form-label\">分類</label>\r\n                  <input type=\"text\" class=\"form-control\" v-model=\"tempProduct.category\" id=\"category\"\r\n                    placeholder=\"請輸入分類\">\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">單位</label>\r\n                  <input type=\"text\" class=\"form-control\" v-model=\"tempProduct.unit\" id=\"unit\" placeholder=\"請輸入單位\">\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                  <input type=\"number\" class=\"form-control\" id=\"origin_price\" v-model.number=\"tempProduct.origin_price\"\r\n                    placeholder=\"請輸入原價\">\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">售價</label>\r\n                  <input type=\"number\" class=\"form-control\" id=\"price\" v-model.number=\"tempProduct.price\"\r\n                    placeholder=\"請輸入售價\">\r\n                </div>\r\n              </div>\r\n              <hr>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"description\" class=\"form-label\">產品規格</label>\r\n                <textarea type=\"text\" class=\"form-control\" id=\"description\" v-model=\"tempProduct.description\" rows=\"8\"\r\n                  placeholder=\"請輸入產品規格描述\"></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"content\" class=\"form-label\">產品說明</label>\r\n                <textarea type=\"text\" class=\"form-control\" id=\"content\" v-model=\"tempProduct.content\"\r\n                  placeholder=\"請輸入產品說明內容\"></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <div class=\"form-check\">\r\n                  <input class=\"form-check-input\" type=\"checkbox\" v-model=\"tempProduct.is_enabled\" :true-value=\"1\"\r\n                    :false-value=\"0\" id=\"is_enabled\">\r\n                  <label class=\"form-check-label\" for=\"is_enabled\">\r\n                    是否啟用\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消\r\n          </button>\r\n          <button type=\"button\" @click=\"$emit('update-product', tempProduct)\" class=\"btn btn-primary\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  watch: {\r\n    product () {\r\n      // 外層資料會變更所以要做修改\r\n      this.tempProduct = this.product\r\n    }\r\n  },\r\n  mixins: [modalMixin],\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      tempProduct: {} // 外層資料接收\r\n    }\r\n  },\r\n  methods: {\r\n    uploadFile () {\r\n      const uploadedFile = this.$refs.fileInput.files[0]\r\n      // console.dir(uploadedFile)\r\n      // JS 方法轉成 formData 格式\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', uploadedFile)\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      this.$http.post(url, formData)\r\n        .then((res) => {\r\n          // console.log(res.data)\r\n          if (res.data.success) {\r\n            this.tempProduct.imageUrl = res.data.imageUrl\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=59928729\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\香氛蠟燭網站\\\\商品\\\\vue3-final-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=76a1389e\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\香氛蠟燭網站\\\\商品\\\\vue3-final-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" :class=\"{disabled : !pages.has_pre}\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"updatePage(pages.current_page - 1)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\">\r\n        <a class=\"page-link\" :class=\"{disabled : page === pages.current_page}\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\r\n      </li>\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" :class=\"{disabled : !pages.has_next}\" href=\"#\" aria-label=\"Next\" @click.prevent=\"updatePage(pages.current_page + 1)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('emit-pages', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=48b7ff64\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\香氛蠟燭網站\\\\商品\\\\vue3-final-project\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}